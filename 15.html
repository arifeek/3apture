<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>3APTURE | SPATIAL INTELLIGENCE</title>
    <style>
        :root { --bg: #000; --ink: #fff; --accent: #444; }
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background: var(--bg); 
            color: var(--ink); 
            font-family: -apple-system, system-ui, sans-serif;
            height: 400vh; /* Long scroll for the tunnel effect */
            overflow-x: hidden;
            perspective: 2000px;
        }

        /* Fixed UI Elements */
        .ui {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            padding: 30px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            z-index: 1000;
            pointer-events: none;
        }
        .logo { font-weight: 900; letter-spacing: 0.6em; font-size: 10px; pointer-events: auto; cursor: pointer; }
        .nav-meta { display: flex; justify-content: space-between; font-family: monospace; font-size: 9px; opacity: 0.5; }

        /* The 3D World */
        .viewport {
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            transform-style: preserve-3d;
        }

        .monolith {
            position: relative;
            width: 300px;
            height: 400px;
            transform-style: preserve-3d;
            will-change: transform;
        }

        .layer {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            font-size: clamp(300px, 60vh, 600px);
            font-weight: 900;
            line-height: 1;
            text-align: center;
            color: var(--ink);
            user-select: none;
            transition: transform 0.1s ease-out, opacity 0.5s ease;
        }

        /* Content Sections - Hidden until scrolled */
        .content-wrap {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            transform-style: preserve-3d;
            pointer-events: none;
        }

        .section-text {
            position: absolute;
            max-width: 300px;
            text-align: center;
            font-size: 14px;
            letter-spacing: 2px;
            line-height: 1.6;
            text-transform: uppercase;
            opacity: 0;
            transform: translateZ(-500px);
            transition: all 0.8s ease;
        }

        .section-text.visible { opacity: 1; transform: translateZ(100px); pointer-events: auto; }

        /* Progress Indicator */
        .progress-bar {
            position: fixed;
            right: 30px;
            top: 50%;
            transform: translateY(-50%);
            height: 100px;
            width: 1px;
            background: rgba(255,255,255,0.1);
        }
        .progress-fill {
            width: 100%;
            background: #fff;
            height: 0%;
            transition: height 0.1s;
        }

        .btn-action {
            pointer-events: auto;
            border: 1px solid #fff;
            padding: 15px 30px;
            color: #fff;
            text-decoration: none;
            font-size: 10px;
            letter-spacing: 3px;
            transition: 0.3s;
        }
        .btn-action:hover { background: #fff; color: #000; }

    </style>
</head>
<body>

    <div class="ui">
        <div class="logo" onclick="window.scrollTo(0,0)">3APTURE</div>
        <div class="nav-meta">
            <span>DEPTH: <span id="depth-val">000</span>m</span>
            <span>COORD: AU_37.8</span>
        </div>
    </div>

    <div class="progress-bar"><div class="progress-fill" id="fill"></div></div>

    <div class="viewport">
        <div class="monolith" id="monolith">
            <div class="layer" style="transform: translateZ(0px); opacity: 1;">3</div>
            <div class="layer" style="transform: translateZ(-50px); opacity: 0.5;">3</div>
            <div class="layer" style="transform: translateZ(-100px); opacity: 0.2;">3</div>
            <div class="layer" style="transform: translateZ(-150px); opacity: 0.1;">3</div>
            
            <div class="content-wrap">
                <div class="section-text" id="sec-1">
                    <p>Static is dead.<br>We capture volume.</p>
                </div>
                <div class="section-text" id="sec-2">
                    <p>Architectural precision.<br>Virtually present.</p>
                </div>
                <div class="section-text" id="sec-3">
                    <a href="mailto:scan@3apture.com.au" class="btn-action">INITIATE SCAN</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        const monolith = document.getElementById('monolith');
        const fill = document.getElementById('fill');
        const depthVal = document.getElementById('depth-val');
        const layers = document.querySelectorAll('.layer');
        const sec1 = document.getElementById('sec-1');
        const sec2 = document.getElementById('sec-2');
        const sec3 = document.getElementById('sec-3');

        let tX = 0, tY = 0, cX = 0, cY = 0;

        // Interaction (Unified Mouse/Tilt)
        window.addEventListener('mousemove', (e) => {
            tX = (window.innerWidth / 2 - e.clientX) / 15;
            tY = (window.innerHeight / 2 - e.clientY) / 15;
        });

        window.addEventListener('deviceorientation', (e) => {
            if (e.gamma) { tX = e.gamma / 2; tY = (e.beta - 45) / 2; }
        });

        // Scroll Logic
        window.addEventListener('scroll', () => {
            const scrolled = window.scrollY;
            const maxScroll = document.body.scrollHeight - window.innerHeight;
            const scrollPercent = scrolled / maxScroll;

            // Update Progress UI
            fill.style.height = (scrollPercent * 100) + '%';
            depthVal.innerText = Math.floor(scrollPercent * 1000).toString().padStart(3, '0');

            // 1. Zoom through the '3'
            const zoomZ = scrolled * 1.5;
            monolith.style.transform = `rotateY(${-cX}deg) rotateX(${cY}deg) translateZ(${zoomZ}px)`;

            // 2. Fade layers as we pass them
            layers.forEach((layer, i) => {
                const layerZ = i * 50;
                if (zoomZ > layerZ + 100) layer.style.opacity = 0;
                else layer.style.opacity = (1 / (i + 1));
            });

            // 3. Trigger Content Reveals
            sec1.classList.toggle('visible', scrolled > 500 && scrolled < 1500);
            sec2.classList.toggle('visible', scrolled > 1500 && scrolled < 2500);
            sec3.classList.toggle('visible', scrolled > 2500);
        });

        function animate() {
            cX += (tX - cX) * 0.1;
            cY += (tY - cY) * 0.1;
            const zoomZ = window.scrollY * 1.5;
            monolith.style.transform = `rotateY(${-cX}deg) rotateX(${cY}deg) translateZ(${zoomZ}px)`;
            requestAnimationFrame(animate);
        }
        animate();
    </script>
</body>
</html>